{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\nimport { refs, query, showLoader} from \"../main\";\n\nexport function getImages() {\n    const BASE_URL = \"https://pixabay.com/api/\";\n    const params = new URLSearchParams({\n        key: \"43015885-c3997a91f23585149f1baaf72\",\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: \"true\",\n    });\n    const url = `${BASE_URL}?${params}`;\n\n    showLoader();\n\n    return fetch(url)\n    .then(response => {\n        if (!response.ok) {\n            throw new Error(response.status);\n        }\n        return response.json();\n    });\n};\n\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { refs, lightbox, displayMessage } from '../main';\n\nexport function render(data) {\n    if (data.hits.length === 0) {\n        displayMessage(\n        'Sorry, there are no images matching your search query. Please try again!'\n        );\n    } else {\n        refs.gallery.innerHTML = '';\n        const images = data.hits;\n\n        const markup = images.map(image => \n            `<li class=\"gallery-item\">\n                <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n                <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n                </a>\n                <div class=\"stats\">\n                    <p class=\"text\">Likes<br/>${image.likes}</p>\n                    <p class=\"text\">Views<br/>${image.views}</p>\n                    <p class=\"text\">Comments<br/>${image.comments}</p>\n                    <p class=\"text\">Downloads<br/>${image.downloads}</p>\n                </div>\n            </li>`).join('');\n\n    refs.gallery.insertAdjacentHTML('beforeend', markup);\n\n    lightbox.refresh();\n    }\n}\n","\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { getImages } from \"./js/pixabay-api.js\";\nimport { render } from \"./js/render-functions.js\";\n\n\nexport const lightbox = new SimpleLightbox('.gallery-link', {\n    captionsData: \"alt\",\n    captionDelay: 250,\n});\n\nexport const refs = {\n    form: document.querySelector(\".form\"),\n    searchInput: document.getElementById(\"searchInput\"),\n    searchBtn: document.querySelector(\"button\"),\n    loader: document.querySelector(\".loader\"),\n    gallery: document.querySelector(\".gallery\"),\n}\n\nhideLoader();\n\nexport let query = \"\";\n\n\nrefs.form.addEventListener(\"submit\", event => {\n    event.preventDefault();\n\n    refs.gallery.innerHTML = \"\";\n    query = refs.searchInput.value.trim();\n    if (query !== '') {\n        getImages(query).then(data => {\n            render(data);\n            hideLoader();\n        })\n        .catch(error => console.log(error));\n    }   else {\n        displayMessage(\"Empty field!\")\n    }\n\n    refs.form.reset();\n});\n\nexport function displayMessage(message) {\n    iziToast.error({\n        title: 'Error',\n        message: message,\n        position: \"topRight\",\n        backgroundColor: \"red\",\n    });\n}\n\nexport function hideLoader() {\n    refs.loader.style.display = \"none\";\n}\n\nexport function showLoader() {\n    refs.loader.style.display = \"block\";\n}\n\n"],"names":["getImages","BASE_URL","params","query","url","showLoader","response","render","data","displayMessage","refs","markup","image","lightbox","SimpleLightbox","hideLoader","event","error","message","iziToast"],"mappings":"6vBAGO,SAASA,GAAY,CACxB,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGC,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EACKC,EAAM,GAAGH,CAAQ,IAAIC,CAAM,GAEjC,OAAAG,IAEO,MAAMD,CAAG,EACf,KAAKE,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MACxB,CAAK,CACL,CChBO,SAASC,EAAOC,EAAM,CACzB,GAAIA,EAAK,KAAK,SAAW,EACrBC,EACA,0EACR,MACW,CACHC,EAAK,QAAQ,UAAY,GAGzB,MAAMC,EAFSH,EAAK,KAEE,IAAII,GACtB;AAAA,gDACoCA,EAAM,aAAa;AAAA,kDACjBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,gDAGxCA,EAAM,KAAK;AAAA,gDACXA,EAAM,KAAK;AAAA,mDACRA,EAAM,QAAQ;AAAA,oDACbA,EAAM,SAAS;AAAA;AAAA,kBAEjD,EAAE,KAAK,EAAE,EAEvBF,EAAK,QAAQ,mBAAmB,YAAaC,CAAM,EAEnDE,EAAS,QAAO,CACf,CACL,CCvBO,MAAMA,EAAW,IAAIC,EAAe,gBAAiB,CACxD,aAAc,MACd,aAAc,GAClB,CAAC,EAEYJ,EAAO,CAChB,KAAM,SAAS,cAAc,OAAO,EACpC,YAAa,SAAS,eAAe,aAAa,EAClD,UAAW,SAAS,cAAc,QAAQ,EAC1C,OAAQ,SAAS,cAAc,SAAS,EACxC,QAAS,SAAS,cAAc,UAAU,CAC9C,EAEAK,IAEO,IAAIZ,EAAQ,GAGnBO,EAAK,KAAK,iBAAiB,SAAUM,GAAS,CAC1CA,EAAM,eAAc,EAEpBN,EAAK,QAAQ,UAAY,GACzBP,EAAQO,EAAK,YAAY,MAAM,KAAI,EAC/BP,IAAU,GACVH,EAAe,EAAE,KAAKQ,GAAQ,CAC1BD,EAAOC,CAAI,EACXO,GACZ,CAAS,EACA,MAAME,GAAS,QAAQ,IAAIA,CAAK,CAAC,EAElCR,EAAe,cAAc,EAGjCC,EAAK,KAAK,OACd,CAAC,EAEM,SAASD,EAAeS,EAAS,CACpCC,EAAS,MAAM,CACX,MAAO,QACP,QAASD,EACT,SAAU,WACV,gBAAiB,KACzB,CAAK,CACL,CAEO,SAASH,GAAa,CACzBL,EAAK,OAAO,MAAM,QAAU,MAChC,CAEO,SAASL,GAAa,CACzBK,EAAK,OAAO,MAAM,QAAU,OAChC"}